{"version":3,"sources":["webpack://TylerComponentsWeb.[name]/webpack/universalModuleDefinition","webpack://TylerComponentsWeb.[name]/webpack/bootstrap","webpack://TylerComponentsWeb.[name]/./dist/esm5/a11y/a11y.js","webpack://TylerComponentsWeb.[name]/./dist/esm5/constants/date-constants.js","webpack://TylerComponentsWeb.[name]/./dist/esm5/utils/utils.js","webpack://TylerComponentsWeb.[name]/./node_modules/shadow-utils/esm5/core/shadow-utils.js","webpack://TylerComponentsWeb.[name]/./node_modules/shadow-utils/esm5/core/dom-helper.js","webpack://TylerComponentsWeb.[name]/./dist/esm5/utils/dom-utils.js","webpack://TylerComponentsWeb.[name]/./dist/esm5/custom-elements/component-utils.js","webpack://TylerComponentsWeb.[name]/./dist/esm5/custom-elements/decorators/custom-element.js","webpack://TylerComponentsWeb.[name]/./dist/esm5/events/event-aware.js","webpack://TylerComponentsWeb.[name]/./dist/esm5/scroll/scroll-types.js","webpack://TylerComponentsWeb.[name]/./dist/esm5/message-list/message-list-entry.js","webpack://TylerComponentsWeb.[name]/./dist/esm5/message-list/message-list.js","webpack://TylerComponentsWeb.[name]/./node_modules/tslib/tslib.es6.js","webpack://TylerComponentsWeb.[name]/./dist/esm5/scroll/scroll-axis-observer.js","webpack://TylerComponentsWeb.[name]/./dist/esm5/services/service-adapter.js","webpack://TylerComponentsWeb.[name]/./dist/esm5/utils/clipboard.js","webpack://TylerComponentsWeb.[name]/./dist/esm5/utils/event-utils.js","webpack://TylerComponentsWeb.[name]/./dist/esm5/utils/http-utils.js","webpack://TylerComponentsWeb.[name]/./dist/esm5/utils/object-utils.js","webpack://TylerComponentsWeb.[name]/./dist/esm5/utils/item-manager.js","webpack://TylerComponentsWeb.[name]/./dist/esm5/utils/platform.js","webpack://TylerComponentsWeb.[name]/./dist/esm5/utils/string-utils.js","webpack://TylerComponentsWeb.[name]/./dist/esm5/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","hideElementVisually","element","style","border","clip","height","margin","overflow","padding","position","width","outline","setProperty","DATE_CONSTANTS","days","daysLong","months","monthsLong","isDefined","obj","isString","isBoolean","isNumber","isDate","Date","isValidDate","isNaN","getTime","isFunction","isArray","Array","isObject","coerceBoolean","coerceNumber","debounce","func","wait","immediate","context","args","result","timeout","timestamp","later","last","now","setTimeout","apply","this","arguments","callNow","throttle","options","leading","remaining","clearTimeout","trailing","nameof","fn","fnString","toString","match","exec","Error","deepQuerySelectorAll","rootElement","selectors","checkRootElement","nodes","replace","split","el","nodeType","Node","ELEMENT_NODE","matchesFn","Element","matches","msMatchesSelector","webkitMatchesSelector","some","selector","indexOf","push","tagName","assignedNodes","forEach","slottedNode","concat","node","shadowRoot","firstElementChild","nextElementSibling","SCROLLBAR_WIDTH","REGULAR_EXPRESSIONS","placement","auto","primary","secondary","topBottom","_ownerDocument","ownerDocument","document","getElement","allowNull","querySelector","isElement","isPositionStatic","getComputedStyle","parseStyle","length","parsedValue","parseFloat","isFinite","parsePlacement","test","placements","elementIndex","parentElement","from","children","elementParents","untilElement","parentElements","body","parentNode","host","offsetParent","offsetParentElem","documentElement","scrollbarWidth","elem","createElement","top","left","appendChild","offsetWidth","clientWidth","removeElement","isScrollable","elemStyle","overflowY","overflowX","scrollParent","includeSelf","docElem","excludeStatic","scrollParentElem","scrollParentStyle","isScrollbarVisible","x","scrollWidth","y","scrollHeight","clientHeight","offset","elemBCR","getBoundingClientRect","win","defaultView","offsetValues","bottom","right","parentBCR","pageYOffset","pageXOffset","Math","round","viewportOffset","parentStyle","borderTopWidth","borderLeftWidth","offsetHeight","isElementInViewport","scrollParentOffset","positionElement","targetElement","hostElement","elemPlacement","hostElem","targetElemOffset","measureElemOffset","adjustedSize","abs","marginLeft","marginRight","marginTop","marginBottom","xOverflow","yOverflow","centerXOverflow","centerYOverflow","scrollTop","scrollLeft","elemPosition","class","notChildEventListener","callback","delay","evtHandler","event","handle","stopPropagation","cancelable","preventDefault","activeElement","type","target","contains","requestAnimationFrame","addEventListener","removeEventListener","removeAllChildren","lastChild","removeChild","replaceElement","newChild","oldChild","replaceChild","addClass","classList","add","removeClass","remove","getAnimationEvent","animations","playKeyframeAnimation","className","animationEvent","animationCompletedListener","safeCssWidth","slice","Number","calcSizeUnattached","container","visibility","cloneNode","size","ensureChildren","Promise","resolve","observer","MutationObserver","changes","disconnect","observe","childList","ensureChild","initialElements","reduce","prev","curr","addedNodes","foundElements","subtree","walkUpUntil","matcher","parent","calculateFontWidth","info","ctx","getContext","fontSize","fontFamily","font","measureText","generateTextShadow","iterations","color","shadows","join","defineCustomElement","component","tryDefine","defineCustomElements","components","ctor","customElements","upgradeProperty","instance","requireParent","parentTagName","toLowerCase","console","warn","parseTemplateString","template","createTemplateContent","DOMParser","parseFromString","attachLightTemplate","componentInstance","content","attachShadowTemplate","elementName","styles","delegatesFocus","templateElement","prepareShadowTemplate","attachShadow","setShadowTemplate","replaceShadowTemplate","styleElement","textContent","ShadyCSS","nativeShadow","prepareTemplate","polyfillShadowStyles","child","createDocumentFragment","firstChild","provideDocumentStyles","fromDocument","documentStyleSheets","shadowStyleSheet","sheet","sheetName","sheetFilter","selectorFilter","matchingStyleSheet","styleSheetList","prop","href","RegExp","styleSheets","startIndex","cssRules","rule","cssText","selectorText","insertRule","getShadowElement","getLightElement","emitEvent","data","bubble","evt","CustomEvent","detail","bubbles","createEvent","initCustomEvent","dispatchEvent","toggleElementPlaceholder","isVisible","placeholder","exists","createComment","getClosestShadowRoot","current","closestElement","startElement","__closestFrom","assignedSlot","closest","getRootNode","CustomElement","config","originalConnectedCallback","connectedCallback","isConnected","_isInitialized","initializedCallback","dependencies","ScrollDirection","ScrollEvents","EventAware","_listenerMap","Map","_emit","listeners","cb","hasListeners","has","addListener","listener","set","removeListener","includes","splice","delete","MessageListEntry","message","identifier","originalMessage","MessageList","useAutoEllipsis","_useAutoEllipsis","reset","_updateMessage","configurable","_messages","index","_getMessageIndex","update","hasMessage","_this","item","hasEllipsis","substr","extendStatics","b","setPrototypeOf","__proto__","ServiceRequestMethod","_super","ScrollAxisObserver","_element","_config","_axis","_scrollThreshold","_lastScrollPosition","_lastScrollTop","_lastScrollLeft","_isListening","_initialize","__","constructor","destroy","stop","start","_scrollListener","throttleTime","_onScroll","paused","axis","scrollThreshold","_isScrollAxis","isVertical","isHorizontal","scrollPosition","direction","Down","Right","Up","Left","Scroll","Scrolled","scrollStart","scrollEnd","scrollSize","ScrolledStart","ScrolledEnd","elementSize","setScrollPosition","copyToClipboard","text","textarea","yPosition","setAttribute","select","setSelectionRange","copySuccessful","execCommand","getEventPath","path","composedPath","createQueryString","params","encodeURIComponent","getPropertyValue","inPath","ary","findWhere","predicate","find","matchesPredicate","findIndexWhere","findIndex","createPredicate","_i","key_1","propertyName","keys","every","listenOwnProperty","originalValueDescriptor","getOwnPropertyDescriptor","getPrototypeOf","ItemManager","_key","_items","getItems","count","setKey","_getItem","clear","hasV8BreakIterator","Intl","v8BreakIterator","Platform","isBrowser","navigator","userAgent","chrome","CSS","EDGE","TRIDENT","BLINK","MSStream","SAFARI","WEBKIT","dashify","padLeft","char","padRight","e"],"mappings":"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","file":"tyler-components-web-core.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"core\"] = factory();\n\telse\n\t\troot[\"TylerComponentsWeb\"] = root[\"TylerComponentsWeb\"] || {}, root[\"TylerComponentsWeb\"][\"core\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"C:\\\\Bitbucket\\\\TWC\\\\tyler-components-web-core\\\\dist\\\\dist\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","/**\r\n * Hides an element from the user visually, while keeping it in the DOM.\r\n * @param element The element to hide from view.\r\n */\r\nexport function hideElementVisually(element) {\r\n    element.style.border = '0';\r\n    element.style.clip = 'rect(0 0 0 0)';\r\n    element.style.height = '1px';\r\n    element.style.margin = '-1px';\r\n    element.style.overflow = 'hidden';\r\n    element.style.padding = '0';\r\n    element.style.position = 'absolute';\r\n    element.style.width = '1px';\r\n    element.style.outline = '0';\r\n    element.style.setProperty('-webkit-appearance', 'none');\r\n    element.style.setProperty('-moz-appearance', 'none');\r\n}\r\n","var days = [\r\n    'Su',\r\n    'Mo',\r\n    'Tu',\r\n    'We',\r\n    'Th',\r\n    'Fr',\r\n    'Sa'\r\n];\r\nvar daysLong = [\r\n    'Sunday',\r\n    'Monday',\r\n    'Tuesday',\r\n    'Wedensday',\r\n    'Thursday',\r\n    'Friday',\r\n    'Saturday'\r\n];\r\nvar months = [\r\n    'Jan',\r\n    'Feb',\r\n    'Mar',\r\n    'Apr',\r\n    'May',\r\n    'Jun',\r\n    'Jul',\r\n    'Aug',\r\n    'Sep',\r\n    'Oct',\r\n    'Nov',\r\n    'Dec'\r\n];\r\nvar monthsLong = [\r\n    'January',\r\n    'February',\r\n    'March',\r\n    'April',\r\n    'May',\r\n    'June',\r\n    'July',\r\n    'August',\r\n    'September',\r\n    'October',\r\n    'November',\r\n    'December'\r\n];\r\nexport var DATE_CONSTANTS = {\r\n    days: days,\r\n    daysLong: daysLong,\r\n    months: months,\r\n    monthsLong: monthsLong\r\n};\r\n","// https://stackoverflow.com/questions/899574/which-is-best-to-use-typeof-or-instanceof\r\n/**\r\n * Checks if an object is undefined or null.\r\n * @param {object} obj The object to test.\r\n * @returns {boolean}\r\n */\r\nexport function isDefined(obj) {\r\n    return typeof obj !== 'undefined' && obj !== null;\r\n}\r\n/**\r\n * Checks if an object is a string.\r\n * @param {object} obj The object to test.\r\n * @returns {boolean}\r\n */\r\nexport function isString(obj) {\r\n    return typeof obj === 'string';\r\n}\r\n/**\r\n * Checks if an object is a boolean.\r\n * @param {object} obj The object to test.\r\n * @returns {boolean}\r\n */\r\nexport function isBoolean(obj) {\r\n    return typeof obj === 'boolean';\r\n}\r\n/**\r\n * Checks if an object is a number.\r\n * @param {object} obj The object to test.\r\n * @returns {boolean}\r\n */\r\nexport function isNumber(obj) {\r\n    return typeof obj === 'number';\r\n}\r\n/**\r\n * Checks if an object is a date.\r\n * @param {object} obj The object to test.\r\n * @returns {boolean}\r\n */\r\nexport function isDate(obj) {\r\n    return obj instanceof Date;\r\n}\r\n/**\r\n * Checks if an object is a date and is a valid date.\r\n * @param {object} obj The object to test.\r\n * @returns {boolean}\r\n */\r\nexport function isValidDate(obj) {\r\n    if (!isDate(obj)) {\r\n        return false;\r\n    }\r\n    return !isNaN(obj.getTime());\r\n}\r\n/**\r\n * Checks if an object is a function.\r\n * @param {object} obj The object to test.\r\n * @returns {boolean}\r\n */\r\nexport function isFunction(obj) {\r\n    return typeof obj === 'function';\r\n}\r\n/**\r\n * Checks if an object is an array.\r\n * @param {object} obj The object to test.\r\n * @returns {boolean}\r\n */\r\nexport function isArray(obj) {\r\n    return obj instanceof Array;\r\n}\r\n/**\r\n * Checks if an object is an object.\r\n * @param {object} obj The object to test.\r\n * @returns {boolean}\r\n */\r\nexport function isObject(obj) {\r\n    return obj instanceof Object;\r\n}\r\n/**\r\n * Coerces a string to a boolean.\r\n * @param {string} value The value to convert.\r\n * @returns {boolean}\r\n */\r\nexport function coerceBoolean(value) {\r\n    return value != null && '' + value !== 'false';\r\n}\r\n/**\r\n * Coerces a string to a number.\r\n * @param {string} value The value to convert.\r\n * @returns {number}\r\n */\r\nexport function coerceNumber(value) {\r\n    return +value;\r\n}\r\n/**\r\n * Debounce method.\r\n * @param {function} func The function to call.\r\n * @param {number} wait The amount of time (milliseconds) to wait.\r\n * @param {boolean} [immediate=false] Should the callback be executed once immeadiately.\r\n */\r\nexport function debounce(func, wait, immediate) {\r\n    if (immediate === void 0) { immediate = false; }\r\n    var context;\r\n    var args;\r\n    var result;\r\n    var timeout;\r\n    var timestamp = 0;\r\n    var later = function () {\r\n        var last = Date.now() - timestamp;\r\n        if (last < wait && last >= 0) {\r\n            timeout = setTimeout(later, wait - last);\r\n        }\r\n        else {\r\n            timeout = null;\r\n            if (!immediate) {\r\n                result = func.apply(context, args);\r\n                if (!timeout) {\r\n                    context = args = null;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return function () {\r\n        context = this;\r\n        args = arguments;\r\n        timestamp = Date.now();\r\n        var callNow = immediate && !timeout;\r\n        if (!timeout) {\r\n            timeout = setTimeout(later, wait);\r\n        }\r\n        if (callNow) {\r\n            result = func.apply(context, args);\r\n            context = args = null;\r\n        }\r\n        return result;\r\n    };\r\n}\r\n/**\r\n * Throttle method.\r\n * @param {function} func The function to call.\r\n * @param {number} wait The amount of time (milliseconds) to wait.\r\n * @param {object=} options An options object with the following properties\r\n *   <ul>\r\n *     <li>**leading**: Should the callback be executed once immeadiately.</li>\r\n *     <li>**trailing**: Should the callback be executed once after the throttle completes.</li>\r\n *   </ul>\r\n */\r\nexport function throttle(func, wait, options) {\r\n    var context;\r\n    var args;\r\n    var result;\r\n    var timeout;\r\n    var timestamp = 0;\r\n    options = options || {};\r\n    var later = function () {\r\n        timestamp = options.leading === false ? 0 : Date.now();\r\n        timeout = null;\r\n        result = func.apply(context, args);\r\n        if (!timeout) {\r\n            context = args = null;\r\n        }\r\n    };\r\n    return function () {\r\n        var now = Date.now();\r\n        if (!timestamp && options.leading === false) {\r\n            timestamp = now;\r\n        }\r\n        var remaining = wait - (now - timestamp);\r\n        context = this;\r\n        args = arguments;\r\n        if (remaining <= 0 || remaining > wait) {\r\n            if (timeout) {\r\n                clearTimeout(timeout);\r\n                timeout = null;\r\n            }\r\n            timestamp = now;\r\n            result = func.apply(context, args);\r\n            if (!timeout) {\r\n                context = args = null;\r\n            }\r\n        }\r\n        else if (!timeout && options.trailing !== false) {\r\n            timeout = setTimeout(later, remaining);\r\n        }\r\n        return result;\r\n    };\r\n}\r\n/**\r\n * A minification-safe nameof function for retrieving the name of a property or method at runtime.\r\n * Note: this function only works with properties/methods on an object. To get the name of a variable,\r\n *       you will need to wrap it within an object.\r\n * @param {Function} fn A function the returns a property or method that will be stringified.\r\n */\r\nexport function nameof(fn) {\r\n    var fnString = fn.toString();\r\n    // fnString should look something like: function () { return _this.canActivate; }\r\n    // When minified fnString will look something like: function(){return a.canActivate}\r\n    var nameofRegExp = /[^.]\\.([^;}\\s]+)(?:[;}\\s])/; // Get everything after first dot and before the end of the statement\r\n    var match = nameofRegExp.exec(fnString);\r\n    if (!match) {\r\n        throw new Error(\"Could not parse nameof string: \" + fnString);\r\n    }\r\n    return match[1];\r\n}\r\n","import { matchesSelectors } from './dom-helper';\n/**\n * Walks the DOM tree starting at a root element and checks if any of its children\n * match the provided selectors. Similar to the native `querySelectorAll` except\n * that it will traverse the shadow DOM as well as slotted nodes.\n * @param {Element} rootElement The element to start querying from.\n * @param {string[]} selectors An array of CSS selectors.\n * @param {boolean} [checkRootElement] True if the provided root element is to be matched against the selectors.\n */\nexport function deepQuerySelectorAll(rootElement, selectors, checkRootElement) {\n    if (checkRootElement === void 0) { checkRootElement = false; }\n    var nodes = [];\n    if (!rootElement) {\n        return nodes;\n    }\n    if (typeof selectors === 'string') {\n        selectors = selectors.replace(/\\s+/, '').split(',');\n    }\n    if (checkRootElement && matchesSelectors(rootElement, selectors) && nodes.indexOf(rootElement) === -1) {\n        nodes.push(rootElement);\n    }\n    if (rootElement.tagName === 'SLOT') {\n        var slotNodes = rootElement.assignedNodes();\n        slotNodes.forEach(function (slottedNode) { return nodes = nodes.concat(deepQuerySelectorAll(slottedNode, selectors, true)); });\n    }\n    else {\n        var node = rootElement.shadowRoot ? rootElement.shadowRoot.firstElementChild : rootElement.firstElementChild;\n        while (node) {\n            nodes = nodes.concat(deepQuerySelectorAll(node, selectors, true));\n            node = node.nextElementSibling;\n        }\n    }\n    return nodes;\n}\n/**\n * Gets the currently focused element within the document by also traversing shadow roots.\n * @returns {Element}\n */\nexport function getActiveElement() {\n    var activeElement = document.activeElement;\n    if (!activeElement || activeElement === document.body) {\n        return activeElement;\n    }\n    return getActiveShadowElement(activeElement);\n}\n/**\n * Gets the active element within the provided elements shadow root. If the element\n * does not have a shadow root, the provided element is returned.\n * @param {Element} element The active element.\n */\nexport function getActiveShadowElement(element) {\n    if (element.shadowRoot && element.shadowRoot.activeElement) {\n        element = getActiveShadowElement(element.shadowRoot.activeElement);\n    }\n    return element;\n}\n\n//# sourceMappingURL=shadow-utils.js.map\n","/**\n * Checks if an element matches any of the provided selectors.\n * @param {Element} el The element to match.\n * @param {string[]} selectors The selectors to check the element against.\n */\nexport function matchesSelectors(el, selectors) {\n    if (el.nodeType !== Node.ELEMENT_NODE) {\n        return false;\n    }\n    if (typeof selectors === 'string') {\n        selectors = selectors.replace(/\\s+/, '').split(',');\n    }\n    var matchesFn = Element.prototype.matches || Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n    return selectors.some(function (selector) { return matchesFn.call(el, selector); });\n}\n\n//# sourceMappingURL=dom-helper.js.map\n","import { deepQuerySelectorAll } from 'shadow-utils';\r\nimport { isArray } from './utils';\r\n/**\r\n * Holds regular expressions\r\n */\r\n/* tslint:disable-next-line:require-private-underscore */\r\nvar REGULAR_EXPRESSIONS = {\r\n    placement: {\r\n        auto: /\\s?auto?\\s?/i,\r\n        primary: /^(top|bottom|left|right)$/,\r\n        secondary: /^(top|bottom|left|right|center)$/,\r\n        topBottom: /^(top|bottom)$/\r\n    },\r\n    overflow: /(auto|scroll)/\r\n};\r\n/**\r\n * Holds the browser scrollbar width.\r\n */\r\n/* tslint:disable-next-line:require-private-underscore */\r\nvar SCROLLBAR_WIDTH;\r\n/**\r\n * Gets the ownerDocument for an element, if null, than returns the document element.\r\n * @param {Element} element The element to get the ownerDocument for\r\n * @returns {Document}\r\n */\r\nfunction _ownerDocument(element) {\r\n    return element.ownerDocument || document;\r\n}\r\n/**\r\n * Retrieves an element based on the provided root and selector.\r\n * @param {Element} root The root element to search within.\r\n * @param {string} selector The selector for the child element.\r\n * @param {boolean} [allowNull=false] Should the method allow the element to be not found? Default is false.\r\n * @returns {HTMLElement}\r\n */\r\nexport function getElement(root, selector, allowNull) {\r\n    if (allowNull === void 0) { allowNull = false; }\r\n    var element = root.querySelector(selector);\r\n    if (!element && !allowNull) {\r\n        throw new Error(\"Element not found with selector: \" + selector);\r\n    }\r\n    return element;\r\n}\r\n/**\r\n * Checks if an element is a valid element.\r\n * @param {Element} element The node to test\r\n * @returns {boolean}\r\n */\r\nexport function isElement(element) {\r\n    return element && element.nodeType === 1;\r\n}\r\n/**\r\n * Checks if an element is statically positioned.\r\n * @param {Element} element The node to test.\r\n * @returns {boolean}\r\n */\r\nexport function isPositionStatic(element) {\r\n    return (window.getComputedStyle(element).position || 'static') === 'static';\r\n}\r\n/**\r\n * Parses a style string to a numeric value (removes 'px').\r\n * @param {string} value The style string to parse.\r\n * @returns {number}\r\n */\r\nexport function parseStyle(value) {\r\n    if (!value || !value.length) {\r\n        return 0;\r\n    }\r\n    var parsedValue = parseFloat(value);\r\n    return isFinite(parsedValue) ? parsedValue : 0;\r\n}\r\n/**\r\n * Parses a string into a placemnt object.\r\n * @param {string} placement The placement string.\r\n * @returns {IElementPlacement}\r\n */\r\nexport function parsePlacement(placement) {\r\n    var auto = REGULAR_EXPRESSIONS.placement.auto.test(placement);\r\n    if (auto) {\r\n        placement = placement.replace(REGULAR_EXPRESSIONS.placement.auto, '');\r\n    }\r\n    var placements = placement.split('-');\r\n    placements[0] = placements[0] || 'bottom';\r\n    if (!REGULAR_EXPRESSIONS.placement.primary.test(placements[0])) {\r\n        placements[0] = 'bottom';\r\n    }\r\n    placements[1] = placements[1] || 'center';\r\n    if (!REGULAR_EXPRESSIONS.placement.secondary.test(placements[1])) {\r\n        placements[1] = 'center';\r\n    }\r\n    return {\r\n        primary: placements[0],\r\n        secondary: placements[1],\r\n        auto: auto\r\n    };\r\n}\r\n/**\r\n * Gets the index of an element in the parent element children.\r\n * @param {Element} element The element to get the index on.\r\n * @returns {number}\r\n */\r\nexport function elementIndex(element) {\r\n    if (!isElement(element)) {\r\n        throw new Error('DOMUtils - elementIndex: invalid element argument');\r\n    }\r\n    if (!element.parentElement) {\r\n        return -1;\r\n    }\r\n    return Array.from(element.parentElement.children).indexOf(element);\r\n}\r\n/**\r\n * Gets an array of parent elements up to the body element.\r\n * @param {Element} element The element to get the parents of.\r\n * @param {Element=} untilElement Optional element where traversal should stop.\r\n * @returns {Array}\r\n */\r\nexport function elementParents(element, untilElement) {\r\n    if (!isElement(element)) {\r\n        throw new Error('DOMUtils - elementParents: invalid element argument');\r\n    }\r\n    var parentElements = [];\r\n    while (element.parentElement) {\r\n        parentElements.push(element.parentElement);\r\n        if (element.parentElement === untilElement || element.parentElement === _ownerDocument(element).body) {\r\n            break;\r\n        }\r\n        // pierce shadow DOM\r\n        if (element.parentElement && element.parentElement.parentNode && element.parentElement.parentNode.nodeType === 11) {\r\n            element = element.parentElement.parentNode.host;\r\n        }\r\n        else {\r\n            element = element.parentElement;\r\n        }\r\n    }\r\n    return parentElements;\r\n}\r\n/**\r\n * Gets the non-statically positioned parent of an element.\r\n * @param element The element to get the offset parent of.\r\n * @returns {Element}\r\n */\r\nexport function offsetParent(element) {\r\n    if (!isElement(element)) {\r\n        throw new Error('DOMUtils - offsetParent: invalid element argument');\r\n    }\r\n    var offsetParentElem = element.offsetParent;\r\n    while (offsetParentElem && isPositionStatic(offsetParentElem)) {\r\n        offsetParentElem = offsetParentElem.offsetParent;\r\n    }\r\n    return offsetParentElem || _ownerDocument(element).documentElement;\r\n}\r\n/**\r\n * Gets the browser scrollbar width.\r\n * @returns {number}\r\n */\r\nexport function scrollbarWidth() {\r\n    if (SCROLLBAR_WIDTH === undefined) {\r\n        var elem = document.createElement('div');\r\n        elem.style.position = 'absolute';\r\n        elem.style.top = '-100px';\r\n        elem.style.left = '-100px';\r\n        elem.style.width = '50px';\r\n        elem.style.height = '50px';\r\n        elem.style.overflow = 'scroll';\r\n        document.body.appendChild(elem);\r\n        var width = elem.offsetWidth - elem.clientWidth;\r\n        removeElement(elem);\r\n        SCROLLBAR_WIDTH = isFinite(width) ? width : 0;\r\n    }\r\n    return SCROLLBAR_WIDTH;\r\n}\r\n/**\r\n * Checks if an element is scrollable.\r\n * @param {Element} element The element to test for scrollability\r\n * @returns {boolean}\r\n */\r\nexport function isScrollable(element) {\r\n    var elemStyle = window.getComputedStyle(element);\r\n    return REGULAR_EXPRESSIONS.overflow.test('' + elemStyle.overflow + elemStyle.overflowY + elemStyle.overflowX);\r\n}\r\n/**\r\n * Gets the scroll parent of an element.\r\n * @param {Element} element The element to get the scroll parent of.\r\n * @param {boolean} [includeSelf=false] Should the element be checked for scrollability.\r\n * @returns {Element}\r\n */\r\nexport function scrollParent(element, includeSelf) {\r\n    if (includeSelf === void 0) { includeSelf = false; }\r\n    if (!isElement(element)) {\r\n        throw new Error('DOMUtils - scrollParent: invalid element argument');\r\n    }\r\n    var docElem = _ownerDocument(element).documentElement;\r\n    var elemStyle = window.getComputedStyle(element);\r\n    if (includeSelf && REGULAR_EXPRESSIONS.overflow.test('' + elemStyle.overflow + elemStyle.overflowY + elemStyle.overflowX)) {\r\n        return element;\r\n    }\r\n    var excludeStatic = elemStyle.position === 'absolute';\r\n    var scrollParentElem = element.parentElement || docElem;\r\n    if (scrollParentElem === docElem || elemStyle.position === 'fixed') {\r\n        return scrollParentElem;\r\n    }\r\n    while (scrollParentElem && scrollParentElem !== docElem) {\r\n        var scrollParentStyle = window.getComputedStyle(scrollParentElem);\r\n        if (excludeStatic && scrollParentStyle.position !== 'static') {\r\n            excludeStatic = false;\r\n        }\r\n        if (!excludeStatic && REGULAR_EXPRESSIONS.overflow.test('' + scrollParentStyle.overflow + scrollParentStyle.overflowY + scrollParentStyle.overflowX)) {\r\n            break;\r\n        }\r\n        scrollParentElem = scrollParentElem.scrollParent;\r\n    }\r\n    return scrollParentElem || docElem;\r\n}\r\n/**\r\n * Checks if the elements scroll parent scrollbars are visible.\r\n * @param {Element} element The element to check the scroll parent of.\r\n * @returns {IScrollbarVisibility}\r\n */\r\nexport function isScrollbarVisible(element) {\r\n    if (!isElement(element)) {\r\n        throw new Error('DOMUtils - isDocumentScrolled: invalid element argument');\r\n    }\r\n    var scrollParentElem = scrollParent(element);\r\n    return {\r\n        x: scrollParentElem.scrollWidth > scrollParentElem.clientWidth,\r\n        y: scrollParentElem.scrollHeight > scrollParentElem.clientHeight\r\n    };\r\n}\r\n/**\r\n * Gets the offset from the element to the parent element edges.\r\n * If no parentElement is supplied, the documentElement will be used.\r\n * @param {Element} element The element to compute the offset for.\r\n * @param {Element=} parentElement Optional parent element to measure from.\r\n * @returns {ClientRect}\r\n */\r\nexport function offset(element, parentElement) {\r\n    if (!isElement(element)) {\r\n        throw new Error('DOMUtils - offset: invalid element argument');\r\n    }\r\n    var elemBCR = element.getBoundingClientRect();\r\n    var win = _ownerDocument(element).defaultView;\r\n    var docElem = parentElement || win.document.documentElement;\r\n    var offsetValues = { width: elemBCR.width, height: elemBCR.width, top: 0, left: 0, bottom: 0, right: 0 };\r\n    if (!parentElement || docElem === win.document.documentElement || docElem === win.document.body) {\r\n        offsetValues.top = win.pageYOffset + elemBCR.top;\r\n        offsetValues.bottom = docElem.clientHeight - win.pageYOffset - elemBCR.bottom;\r\n        offsetValues.left = win.pageXOffset + elemBCR.left;\r\n        offsetValues.right = docElem.clientWidth - win.pageXOffset - elemBCR.right;\r\n    }\r\n    else {\r\n        if (!isElement(parentElement)) {\r\n            throw new Error('DOMUtils - offset: invalid parentElement argument');\r\n        }\r\n        var parentBCR = parentElement.getBoundingClientRect();\r\n        offsetValues.top = elemBCR.top - parentBCR.top;\r\n        offsetValues.bottom = parentBCR.bottom - elemBCR.bottom;\r\n        offsetValues.left = elemBCR.left - parentBCR.left;\r\n        offsetValues.right = parentBCR.right - elemBCR.right;\r\n    }\r\n    return {\r\n        width: Math.round(elemBCR.width),\r\n        height: Math.round(elemBCR.height),\r\n        top: Math.round(offsetValues.top),\r\n        bottom: Math.round(offsetValues.bottom),\r\n        left: Math.round(offsetValues.left),\r\n        right: Math.round(offsetValues.right)\r\n    };\r\n}\r\n/**\r\n * Gets the offset from the element to the parent element viewable edges.\r\n * If no parentElement is supplied, the documentElement will be used.\r\n * @param {Element} element The element to measure\r\n * @param {Element=} parentElement The parent element to measure to.\r\n * @returns {ClientRect}\r\n */\r\nexport function viewportOffset(element, parentElement) {\r\n    if (!isElement(element)) {\r\n        throw new Error('DOMUtils - offset: invalid element argument');\r\n    }\r\n    var win = _ownerDocument(element).defaultView;\r\n    parentElement = parentElement || win.document.documentElement;\r\n    var offsetValues = offset(element, parentElement);\r\n    if (parentElement === win.document.documentElement) {\r\n        offsetValues.top -= win.pageYOffset;\r\n        offsetValues.left -= win.pageXOffset;\r\n    }\r\n    else {\r\n        var parentStyle = window.getComputedStyle(parentElement);\r\n        offsetValues.top -= parseStyle('' + parentStyle.borderTopWidth);\r\n        offsetValues.left -= parseStyle('' + parentStyle.borderLeftWidth);\r\n    }\r\n    offsetValues.bottom = parentElement.clientHeight - offsetValues.top - element.offsetHeight;\r\n    offsetValues.right = parentElement.clientWidth - offsetValues.left - element.offsetWidth;\r\n    return offsetValues;\r\n}\r\n/**\r\n * Checks if any part of an element is visible in the viewport.\r\n * @param {Element} element The element to check.\r\n * @returns {boolean}\r\n */\r\nexport function isElementInViewport(element) {\r\n    if (!isElement(element)) {\r\n        throw new Error('DOMUtils - isElementInViewport: invalid element argument');\r\n    }\r\n    var document = _ownerDocument(element);\r\n    var scrollParentElem = scrollParent(element);\r\n    var elemBCR = element.getBoundingClientRect();\r\n    if (scrollParentElem !== document.documentElement && scrollParentElem !== document.body) {\r\n        var scrollParentOffset = offset(element, scrollParentElem);\r\n        if (scrollParentOffset.top + elemBCR.height < 0 ||\r\n            scrollParentOffset.left + elemBCR.width < 0 ||\r\n            scrollParentOffset.bottom + elemBCR.height - this.scrollbarWidth < 0 ||\r\n            scrollParentOffset.right + elemBCR.width - this.scrollbarWidth < 0) {\r\n            return false;\r\n        }\r\n    }\r\n    if (elemBCR.top + elemBCR.height < 0 ||\r\n        elemBCR.left + elemBCR.width < 0 ||\r\n        elemBCR.bottom + elemBCR.height > document.documentElement.clientHeight ||\r\n        elemBCR.right + elemBCR.width > document.documentElement.clientWidth) {\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\n/**\r\n * Calculates an elements position relative to another element.  The position\r\n * returned is relative to the body element.\r\n * Passing 'auto' as part of the placement parameter\r\n * will enable smart placement - where the element fits. i.e:\r\n * 'auto left-top' will check to see if there is enough space to the left\r\n * of the hostElem to fit the targetElem, if not place right (same for secondary\r\n * top placement).\r\n * @param {Element} element The element being positioned.\r\n * @param {Element} targetElement The element to position to.\r\n * @param {string} placement The desired placement of the positioned element.\r\n * @param {Element=} appendToElement The element that the positioned element will be calculated from.\r\n * Available placements are:\r\n *   <ul>\r\n *     <li>top</li>\r\n *     <li>top-right</li>\r\n *     <li>top-left</li>\r\n *     <li>bottom</li>\r\n *     <li>bottom-left</li>\r\n *     <li>bottom-right</li>\r\n *     <li>left</li>\r\n *     <li>left-top</li>\r\n *     <li>left-bottom</li>\r\n *     <li>right</li>\r\n *     <li>right-top</li>\r\n *     <li>right-bottom</li>\r\n *   </ul>\r\n * @returns {IElementPosition} The position of the element\r\n */\r\nexport function positionElement(element, targetElement, placement, hostElement) {\r\n    if (!isElement(element)) {\r\n        throw new Error('TylDOM - positionElement: invalid element argument');\r\n    }\r\n    if (!isElement(element)) {\r\n        throw new Error('TylDOM - positionElement: invalid target element argument');\r\n    }\r\n    var elemPlacement = parsePlacement(placement);\r\n    var hostElem = hostElement || _ownerDocument(element).body;\r\n    var targetElemOffset = offset(targetElement, hostElem);\r\n    if (elemPlacement.auto) {\r\n        var measureElemOffset = offset(targetElement, _ownerDocument(element).body);\r\n        var elemStyle = window.getComputedStyle(element);\r\n        var adjustedSize = {\r\n            width: element.offsetWidth + Math.round(Math.abs(parseStyle('' + elemStyle.marginLeft) + parseStyle('' + elemStyle.marginRight))),\r\n            height: element.offsetHeight + Math.round(Math.abs(parseStyle('' + elemStyle.marginTop) + parseStyle('' + elemStyle.marginBottom)))\r\n        };\r\n        var xOverflow = adjustedSize.width - measureElemOffset.width;\r\n        var yOverflow = adjustedSize.height - measureElemOffset.height;\r\n        switch (elemPlacement.primary) {\r\n            case 'top':\r\n                if (adjustedSize.height > measureElemOffset.top && adjustedSize.height <= measureElemOffset.bottom) {\r\n                    elemPlacement.primary = 'bottom';\r\n                }\r\n                break;\r\n            case 'bottom':\r\n                if (adjustedSize.height > measureElemOffset.bottom && adjustedSize.height <= measureElemOffset.top) {\r\n                    elemPlacement.primary = 'top';\r\n                }\r\n                break;\r\n            case 'left':\r\n                if (adjustedSize.width > measureElemOffset.left && adjustedSize.width <= measureElemOffset.right) {\r\n                    elemPlacement.primary = 'right';\r\n                }\r\n                break;\r\n            case 'right':\r\n                if (adjustedSize.width > measureElemOffset.right && adjustedSize.width <= measureElemOffset.left) {\r\n                    elemPlacement.primary = 'left';\r\n                }\r\n                break;\r\n        }\r\n        switch (elemPlacement.secondary) {\r\n            case 'top':\r\n                if (yOverflow > measureElemOffset.bottom && yOverflow <= measureElemOffset.top) {\r\n                    elemPlacement.secondary = 'bottom';\r\n                }\r\n                break;\r\n            case 'bottom':\r\n                if (yOverflow > measureElemOffset.top && yOverflow <= measureElemOffset.bottom) {\r\n                    elemPlacement.secondary = 'top';\r\n                }\r\n                break;\r\n            case 'left':\r\n                if (xOverflow > measureElemOffset.right && xOverflow <= measureElemOffset.left) {\r\n                    elemPlacement.secondary = 'right';\r\n                }\r\n                break;\r\n            case 'right':\r\n                if (xOverflow > measureElemOffset.left && xOverflow <= measureElemOffset.right) {\r\n                    elemPlacement.secondary = 'left';\r\n                }\r\n                break;\r\n        }\r\n        if (elemPlacement.secondary === 'center') {\r\n            if (REGULAR_EXPRESSIONS.placement.topBottom.test(elemPlacement.primary)) {\r\n                var centerXOverflow = measureElemOffset.width / 2 - element.offsetWidth / 2;\r\n                if (measureElemOffset.left + centerXOverflow < 0 && xOverflow <= measureElemOffset.right) {\r\n                    elemPlacement.secondary = 'left';\r\n                }\r\n                else if (measureElemOffset.right + xOverflow < 0 && xOverflow <= measureElemOffset.left) {\r\n                    elemPlacement.secondary = 'right';\r\n                }\r\n            }\r\n            else {\r\n                var centerYOverflow = measureElemOffset.height / 2 - adjustedSize.height / 2;\r\n                if (measureElemOffset.top + centerYOverflow < 0 && yOverflow <= measureElemOffset.bottom) {\r\n                    elemPlacement.secondary = 'top';\r\n                }\r\n                else if (measureElemOffset.bottom + yOverflow < 0 && yOverflow <= measureElemOffset.top) {\r\n                    elemPlacement.secondary = 'bottom';\r\n                }\r\n            }\r\n        }\r\n    }\r\n    targetElemOffset.top += hostElem.scrollTop;\r\n    targetElemOffset.left += hostElem.scrollLeft;\r\n    targetElemOffset.bottom = hostElem.clientHeight - targetElemOffset.top - targetElemOffset.height;\r\n    targetElemOffset.right = hostElem.clientWidth - targetElemOffset.left - targetElemOffset.width;\r\n    var elemPosition = { top: 0, bottom: 0, left: 0, right: 0, placement: {}, class: '' };\r\n    switch (elemPlacement.primary) {\r\n        case 'top':\r\n            elemPosition.top = targetElemOffset.top - element.offsetHeight;\r\n            elemPosition.bottom = targetElemOffset.bottom + targetElemOffset.height;\r\n            break;\r\n        case 'bottom':\r\n            elemPosition.top = targetElemOffset.top + targetElemOffset.height;\r\n            elemPosition.bottom = targetElemOffset.bottom - element.offsetHeight;\r\n            break;\r\n        case 'left':\r\n            elemPosition.left = targetElemOffset.left - element.offsetWidth;\r\n            elemPosition.right = targetElemOffset.right + targetElemOffset.width;\r\n            break;\r\n        case 'right':\r\n            elemPosition.left = targetElemOffset.left + targetElemOffset.width;\r\n            elemPosition.right = targetElemOffset.right - element.offsetWidth;\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n    switch (elemPlacement.secondary) {\r\n        case 'top':\r\n            elemPosition.top = targetElemOffset.top;\r\n            elemPosition.bottom = targetElemOffset.bottom + targetElemOffset.height - element.offsetHeight;\r\n            break;\r\n        case 'bottom':\r\n            elemPosition.top = targetElemOffset.top + targetElemOffset.height - element.offsetHeight;\r\n            elemPosition.bottom = targetElemOffset.bottom;\r\n            break;\r\n        case 'left':\r\n            elemPosition.left = targetElemOffset.left;\r\n            elemPosition.right = targetElemOffset.right + targetElemOffset.width - element.offsetWidth;\r\n            break;\r\n        case 'right':\r\n            elemPosition.left = targetElemOffset.left + targetElemOffset.width - element.offsetWidth;\r\n            elemPosition.right = targetElemOffset.right;\r\n            break;\r\n        case 'center':\r\n            if (REGULAR_EXPRESSIONS.placement.topBottom.test(elemPlacement.primary)) {\r\n                elemPosition.left = targetElemOffset.left + targetElemOffset.width / 2 - element.offsetWidth / 2;\r\n                elemPosition.right = targetElemOffset.right + targetElemOffset.width / 2 - element.offsetWidth / 2;\r\n            }\r\n            else {\r\n                elemPosition.top = targetElemOffset.top + targetElemOffset.height / 2 - element.offsetHeight / 2;\r\n                elemPosition.bottom = targetElemOffset.bottom + targetElemOffset.height / 2 - element.offsetHeight / 2;\r\n            }\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n    elemPosition.placement = elemPlacement;\r\n    elemPosition.top = Math.round(elemPosition.top);\r\n    elemPosition.bottom = Math.round(elemPosition.bottom);\r\n    elemPosition.left = Math.round(elemPosition.left);\r\n    elemPosition.right = Math.round(elemPosition.right);\r\n    elemPosition.class = elemPlacement.secondary === 'center' ? elemPlacement.primary : elemPlacement.primary + '-' + elemPlacement.secondary;\r\n    return elemPosition;\r\n}\r\n/**\r\n * Adds an event listener to the document that will call the provided callback function\r\n * when an element and it's children no longer have focus.  The blur and touchstart events are used\r\n * to evaluate the active element to determine if the callback should be called.\r\n *\r\n * @param {Element} element The element to add the event listener to.\r\n * @param {Function} callback The function to call when the element and children don't have focus.\r\n * @param {boolean} [delay=false] Should a RAF cycle occur before the callback is called.\r\n * @returns {Function} The function to call to remove the document events.\r\n */\r\nexport function notChildEventListener(element, callback, delay) {\r\n    var evtHandler = function (event) {\r\n        var handle = function () {\r\n            event.stopPropagation();\r\n            if (event.cancelable) {\r\n                event.preventDefault();\r\n            }\r\n            var activeElement = (event.type === 'touchstart' ? event.target : _ownerDocument(element).activeElement);\r\n            if (!element.contains(activeElement)) {\r\n                callback(activeElement);\r\n            }\r\n        };\r\n        if (delay) {\r\n            window.requestAnimationFrame(function () { return handle(); });\r\n        }\r\n        else {\r\n            handle();\r\n        }\r\n    };\r\n    var docElem = _ownerDocument(element);\r\n    docElem.addEventListener('blur', evtHandler, true);\r\n    docElem.addEventListener('touchstart', evtHandler, true);\r\n    return function () {\r\n        docElem.removeEventListener('blur', evtHandler, true);\r\n        docElem.removeEventListener('touchstart', evtHandler, true);\r\n    };\r\n}\r\n/**\r\n * Removes all children from a DOM node.\r\n * @param node The DOM node to remove children from.\r\n */\r\nexport function removeAllChildren(node) {\r\n    while (node.lastChild) {\r\n        node.removeChild(node.lastChild);\r\n    }\r\n}\r\n/**\r\n * Replaces one child node of the specified node with another.\r\n * @param newChild The new node to replace `oldChild`.\r\n * @param oldChild The existing node to be replaced.\r\n * @returns {Node} The replaced node. Same node as `oldChild`.\r\n */\r\nexport function replaceElement(newChild, oldChild) {\r\n    return oldChild.parentNode.replaceChild(newChild, oldChild);\r\n}\r\n/**\r\n * Adds a class or array of classes to an element.\r\n *\r\n * @param {string | string[]} name The class(es) to add to the element\r\n * @param {Element} element The element to add class(es) to.\r\n */\r\nexport function addClass(name, element) {\r\n    if (isArray(name)) {\r\n        name.forEach(function (n) { return element.classList.add(n); });\r\n    }\r\n    else {\r\n        element.classList.add(name);\r\n    }\r\n}\r\n/**\r\n * Removes a class or array of classes to an element.\r\n *\r\n * @param {string | string[]} name The class(es) to remove from the element\r\n * @param {Element} element The element to remove class(es) from.\r\n */\r\nexport function removeClass(name, element) {\r\n    if (isArray(name)) {\r\n        name.forEach(function (n) { return element.classList.remove(n); });\r\n    }\r\n    else {\r\n        element.classList.remove(name);\r\n    }\r\n}\r\n/** Determines which type of animation event is supported. */\r\nexport function getAnimationEvent() {\r\n    var el = document.createElement('fakeelement');\r\n    // tslint:disable:object-literal-key-quotes\r\n    var animations = {\r\n        'animation': 'animationend',\r\n        'OAnimation': 'oAnimationEnd',\r\n        'MozAnimation': 'animationend',\r\n        'WebkitAnimation': 'webkitAnimationEnd'\r\n    };\r\n    for (var t in animations) {\r\n        if (el.style[t] !== undefined) {\r\n            return animations[t];\r\n        }\r\n    }\r\n}\r\n/**\r\n * A helper method to trigger a keyframe animation via adding a class, and removing the class when the animation completes.\r\n * @param {HTMLElement} element The element to play the animation on.\r\n * @param {string} className The class to add that triggers the animation.\r\n */\r\nexport function playKeyframeAnimation(element, className) {\r\n    element.classList.add(className);\r\n    var animationEvent = getAnimationEvent();\r\n    var animationCompletedListener = function () {\r\n        element.classList.remove(className);\r\n        element.removeEventListener(animationEvent, animationCompletedListener);\r\n    };\r\n    element.addEventListener(animationEvent, animationCompletedListener);\r\n}\r\n/**\r\n * Removes an element from the DOM using the available remove method for that platform.\r\n * @param {HTMLElement} element The element to remove.\r\n */\r\nexport function removeElement(element) {\r\n    if (element['removeNode']) {\r\n        element['removeNode'](true);\r\n    }\r\n    else if (element['remove']) {\r\n        element.remove();\r\n    }\r\n    else {\r\n        element.parentNode.removeChild(element);\r\n    }\r\n}\r\n/**\r\n * Returns a width string that is safe for css based on the provided input.\r\n * @param {string | number} width\r\n * @returns {string | undefined} A width safe for using in CSS.\r\n */\r\nexport function safeCssWidth(width) {\r\n    if (typeof width === 'string') {\r\n        if (width[width.length - 1] === '%') {\r\n            return width;\r\n        }\r\n        else if (width.slice(-2) === 'px') {\r\n            return width;\r\n        }\r\n        else if (Number(width) >= 0) {\r\n            return width + \"px\";\r\n        }\r\n    }\r\n    else if (typeof width === 'number') {\r\n        if (width >= 0) {\r\n            return width + \"px\";\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\n/**\r\n * Calculates the size of an element that is not attached to the DOM.\r\n * @param {HTMLElement} element The element to calc the size of.\r\n * @returns {width, height} The size of the element.\r\n */\r\nexport function calcSizeUnattached(element) {\r\n    var container = document.createElement('div');\r\n    container.style.position = 'absolute';\r\n    container.style.top = '-99999px';\r\n    container.style.left = '-99999px';\r\n    container.style.visibility = 'hidden';\r\n    container.appendChild(element.cloneNode(true));\r\n    document.body.appendChild(container);\r\n    var size = {\r\n        width: container.scrollWidth,\r\n        height: container.scrollHeight\r\n    };\r\n    removeElement(container);\r\n    container = undefined;\r\n    return size;\r\n}\r\n/**\r\n * Resolves a promise when the provided element has children.\r\n * @param {Element} element An element that does or will contain children.\r\n */\r\nexport function ensureChildren(element) {\r\n    if (element.children.length) {\r\n        return Promise.resolve();\r\n    }\r\n    return new Promise(function (resolve) {\r\n        var observer = new MutationObserver(function (changes) {\r\n            if (element.children.length) {\r\n                observer.disconnect();\r\n                resolve();\r\n            }\r\n        });\r\n        observer.observe(element, { childList: true });\r\n    });\r\n}\r\n/**\r\n * Resolves a promise when the provided element has a child that matches a given selector.\r\n * @param {Element} element An element that does or will contain children.\r\n * @param {string} selector A CSS selector to use for finding an element.\r\n */\r\nexport function ensureChild(element, selector) {\r\n    var initialElements = deepQuerySelectorAll(element, selector);\r\n    if (initialElements.length) {\r\n        return Promise.resolve(initialElements[0]);\r\n    }\r\n    return new Promise(function (resolve) {\r\n        var observer = new MutationObserver(function (changes) {\r\n            var hasAddedNodes = changes.reduce(function (prev, curr) { return prev + curr.addedNodes.length; }, 0) > 0;\r\n            if (hasAddedNodes) {\r\n                var foundElements = deepQuerySelectorAll(element, selector);\r\n                if (foundElements.length) {\r\n                    observer.disconnect();\r\n                    resolve(foundElements[0]);\r\n                }\r\n            }\r\n        });\r\n        observer.observe(element, { childList: true, subtree: true });\r\n    });\r\n}\r\n/**\r\n * Walks up the tree starting a specific node and stops when the provided matcher function returns true.\r\n * @param {Node} node The node to start searching from.\r\n * @returns {Node | null} The closest matching ancestor node, or null if not found.\r\n */\r\nexport function walkUpUntil(node, matcher) {\r\n    var parent = (node && node.parentNode);\r\n    while (parent) {\r\n        if (matcher(parent)) {\r\n            return parent;\r\n        }\r\n        parent = parent.parentNode;\r\n    }\r\n    return null;\r\n}\r\n/**\r\n * Calculates the width of a string given the provided font information.\r\n */\r\nexport function calculateFontWidth(value, info) {\r\n    var canvas = document.createElement('canvas');\r\n    var ctx = canvas.getContext('2d');\r\n    var fontSize = info ? info.fontSize : 16;\r\n    var fontFamily = info ? info.fontFamily : 'Roboto';\r\n    ctx.font = fontSize + \"px \" + fontFamily;\r\n    return ctx.measureText(value).width;\r\n}\r\n/**\r\n * Generates a CSS text-shadow style value based on the number of iterations and color provided.\r\n * @param {number} iterations The number of iterations for how long the shadow should be.\r\n * @param {string} color The color of the text shadow. Can be any CSS-safe color format. Ex. hex, rgb, rgba, hsl... etc.\r\n */\r\nexport function generateTextShadow(iterations, color) {\r\n    var shadows = [];\r\n    for (var i = 1; i <= iterations; i++) {\r\n        shadows.push(i + \"px \" + i + \"px \" + color);\r\n    }\r\n    return shadows.join(', ');\r\n}\r\n","import { replaceElement, isArray, removeAllChildren, walkUpUntil } from '../utils';\r\n/**\r\n * Recursively defines a component as a custom elements and all of its dependencies.\r\n * @param component The component to import.\r\n */\r\nexport function defineCustomElement(component) {\r\n    tryDefine(component['_customElementName'], component);\r\n    if (isArray(component['_customElementDependencies'])) {\r\n        defineCustomElements(component['_customElementDependencies']);\r\n    }\r\n}\r\n/**\r\n * Defines the specified custom element components.\r\n * @param {any[]} components The components to register.\r\n */\r\nexport function defineCustomElements(components) {\r\n    components.forEach(defineCustomElement);\r\n}\r\n/**\r\n * Attempts to define the provided custom element name/constructor if not already defined.\r\n * @param name The name of the custom element to define.\r\n * @param ctor The custom element constructor.\r\n */\r\n// tslint:disable-next-line:ban-types\r\nexport function tryDefine(name, ctor, options) {\r\n    if (window.customElements.get(name)) {\r\n        return;\r\n    }\r\n    window.customElements.define(name, ctor, options);\r\n}\r\n/**\r\n * Useful when capturing the value of a unupgraded component during the `connectedCallback` upon upgrade.\r\n *\r\n * More information here:\r\n * https://developers.google.com/web/fundamentals/architecture/building-components/best-practices#lazy-properties\r\n *\r\n * @param property\r\n */\r\nexport function upgradeProperty(instance, property) {\r\n    if (instance.hasOwnProperty(property)) {\r\n        var value = instance[property];\r\n        delete instance[property];\r\n        instance[property] = value;\r\n    }\r\n}\r\n/**\r\n * Traverses up the DOM tree starting from the provided component element to find the specified parent.\r\n * @param {HTMLElement} component The starting HTMLElement.\r\n * @param {string} parentTagName The parent tag name we are searching for.\r\n */\r\nexport function requireParent(component, parentTagName) {\r\n    var el = component;\r\n    while (el.parentNode) {\r\n        el = el.parentNode;\r\n        if (!el.tagName) {\r\n            break;\r\n        }\r\n        if (!el.tagName || el.tagName.toLowerCase() === parentTagName.toLowerCase()) {\r\n            return el;\r\n        }\r\n    }\r\n    console.warn(\"[TCW]: \" + component.tagName.toLowerCase() + \" requires a parent element of \" + parentTagName);\r\n    return null;\r\n}\r\n/**\r\n * Creates a template element from a string.\r\n * @param template The template HTML string.\r\n */\r\nexport function parseTemplateString(template) {\r\n    var templateDocument = new DOMParser().parseFromString(template, 'text/html');\r\n    return createTemplateContent(templateDocument.querySelector('template'));\r\n}\r\n/**\r\n * Attaches a template to the given web component instance light DOM.\r\n * @param {T} componentInstance A component instance.\r\n * @param {string} template The template HTML string.\r\n */\r\nexport function attachLightTemplate(componentInstance, template) {\r\n    componentInstance.appendChild(parseTemplateString(template).content.cloneNode(true));\r\n}\r\n/**\r\n * Attaches a shadow root to the given web component instance.\r\n * @param {T} componentInstance A component instance.\r\n * @param {string} elementName The name of the element the shadow root is to be attached to.\r\n * @param {string} template The shadow root template HTML string.\r\n * @param {string | string[]} styles The shadow root styles string to be encapsulated by this shadow root.\r\n * @param {boolean} [delegatesFocus=false] Should the component delagate focus.\r\n */\r\nexport function attachShadowTemplate(componentInstance, elementName, template, styles, delegatesFocus) {\r\n    if (delegatesFocus === void 0) { delegatesFocus = false; }\r\n    var templateElement = prepareShadowTemplate(elementName, template, styles);\r\n    componentInstance.attachShadow({ mode: 'open', delegatesFocus: delegatesFocus });\r\n    setShadowTemplate(componentInstance, templateElement);\r\n}\r\n/**\r\n * Replaces the template of an existing shadow root with the provided template.\r\n * @param {T} componentInstance A component instance.\r\n * @param {string} elementName The name of the element the shadow root is to be attached to.\r\n * @param {string} template The shadow root template HTML string.\r\n * @param {string | string[]} styles The shadow root styles string to be encapsulated by this shadow root.\r\n */\r\nexport function replaceShadowTemplate(componentInstance, elementName, template, styles) {\r\n    if (!componentInstance.shadowRoot) {\r\n        throw new Error('This element does not contain a shadow root. Did you mean to call `attachShadowTemplate`?');\r\n    }\r\n    var templateElement = prepareShadowTemplate(elementName, template, styles);\r\n    if (componentInstance.shadowRoot.children.length) {\r\n        removeAllChildren(componentInstance.shadowRoot);\r\n    }\r\n    setShadowTemplate(componentInstance, templateElement);\r\n}\r\n/**\r\n * Creates and prepares an HTML template element for rendering within a shadow root.\r\n * @param {string} elementName The name of the element the shadow root is to be attached to.\r\n * @param {string} template The shadow root template HTML string.\r\n * @param {string | string[]} styles The shadow root styles string to be encapsulated by this shadow root.\r\n */\r\nexport function prepareShadowTemplate(elementName, template, styles) {\r\n    var templateElement = parseTemplateString(template);\r\n    if (styles) {\r\n        styles = styles instanceof Array ? styles : [styles];\r\n        var styleElement = document.createElement('style');\r\n        styleElement.type = 'text/css';\r\n        styleElement.textContent = styles.join(' ');\r\n        templateElement.content.appendChild(styleElement);\r\n    }\r\n    if (window.ShadyCSS && !window.ShadyCSS.nativeShadow) {\r\n        window.ShadyCSS.prepareTemplate(templateElement, elementName);\r\n    }\r\n    return templateElement;\r\n}\r\n/**\r\n * Appends a template to the provided components shadow root.\r\n * @param {T} componentInstance A component instance.\r\n * @param {HTMLTemplateElement} templateElement A template element to be cloned.\r\n */\r\nexport function setShadowTemplate(componentInstance, templateElement) {\r\n    componentInstance.shadowRoot.appendChild(templateElement.content.cloneNode(true));\r\n}\r\n/**\r\n * Polyfills the shadow DOM styles if necessary.\r\n * @param componentInstance A custom element instance.\r\n */\r\nexport function polyfillShadowStyles(componentInstance) {\r\n    if (window.ShadyCSS && !window.ShadyCSS.nativeShadow) {\r\n        window.ShadyCSS.styleElement(componentInstance);\r\n    }\r\n}\r\n/**\r\n * Polyfills the `content` property on a `<template>` element that is created dynamically.\r\n * @param {HTMLTemplateElement} template The template element.\r\n */\r\nexport function createTemplateContent(template) {\r\n    if (template.content) {\r\n        return template;\r\n    }\r\n    template.content = template.ownerDocument.createDocumentFragment();\r\n    var child;\r\n    while (child = template.firstChild) { // tslint:disable-line\r\n        template.content.appendChild(child);\r\n    }\r\n    return template;\r\n}\r\n/**\r\n * Copies style rules from the provided document stylesheets collection to the provided shadow root stylesheet.\r\n * @param {Document} fromDocument The document to find the style sheets in.\r\n * @param {ShadowRoot} shadowRoot The shadow root that contains the stylesheet to copy the rules to.\r\n * @param {IStyleSheetDescriptor[]} styleSheetDescriptors A collection of style sheet predicates.\r\n * @param {CSSStyleSheet} shadowStyleSheet The shadow root stylesheet to copy the style rules to.\r\n */\r\nexport function provideDocumentStyles(fromDocument, shadowRoot, documentStyleSheets, shadowStyleSheet) {\r\n    if (!shadowStyleSheet) {\r\n        return;\r\n    }\r\n    var documentSheets = [];\r\n    documentStyleSheets.forEach(function (sheet) {\r\n        var sheetName = typeof sheet === 'string' ? sheet : sheet.name;\r\n        var sheetFilter = sheet.selectorFilter;\r\n        var matchingStyleSheet = _findMatchingStyleSheet(fromDocument.styleSheets, sheetName);\r\n        if (!matchingStyleSheet) {\r\n            throw new Error(\"Could not find stylesheet: \" + sheetName);\r\n        }\r\n        var startIndex = shadowStyleSheet.cssRules.length;\r\n        for (var rule in matchingStyleSheet.cssRules) {\r\n            if (matchingStyleSheet.cssRules.hasOwnProperty(rule) && matchingStyleSheet.cssRules[rule].cssText && (!sheetFilter || new RegExp(sheetFilter).test(matchingStyleSheet.cssRules[rule].selectorText))) {\r\n                shadowStyleSheet.insertRule(matchingStyleSheet.cssRules[rule].cssText, startIndex++);\r\n            }\r\n        }\r\n    });\r\n}\r\n/**\r\n * Finds a stylesheet by name in the provided stylesheet list.\r\n * @param styleSheetList The stylesheet list to search.\r\n * @param sheetName The stylesheet name to find.\r\n * @returns {CSSStyleSheet | undefined}\r\n */\r\nfunction _findMatchingStyleSheet(styleSheetList, sheetName) {\r\n    for (var prop in styleSheetList) {\r\n        if (styleSheetList.hasOwnProperty(prop) && styleSheetList[prop].href) {\r\n            if (new RegExp(sheetName).test(styleSheetList[prop].href)) {\r\n                return styleSheetList[prop];\r\n            }\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\n/**\r\n * Gets an HTML element using a query selector from the provided components` shadow root.\r\n * @param {HTMLElement} componentInstance The component instance that contains a shadow root.\r\n * @param {string} selector The selector to be passed to `querySelector`.\r\n */\r\nexport function getShadowElement(componentInstance, selector) {\r\n    return componentInstance.shadowRoot.querySelector(selector);\r\n}\r\n/**\r\n * Gets an HTML element using a query selector from the provided components` light DOM.\r\n * @param {HTMLElement} componentInstance The component instance.\r\n * @param {string} selector The selector to be passed to `querySelector`.\r\n */\r\nexport function getLightElement(componentInstance, selector) {\r\n    return componentInstance.querySelector(selector);\r\n}\r\n/**\r\n * Creates and dispatches a cross-browser `CustomEvent` with the provided type and data.\r\n * @param {string} type\r\n * @param {any} data\r\n * @param {boolean=} bubble\r\n */\r\nexport function emitEvent(component, type, data, bubble, cancelable) {\r\n    if (bubble === void 0) { bubble = true; }\r\n    if (cancelable === void 0) { cancelable = false; }\r\n    var evt;\r\n    if (typeof CustomEvent === 'function') {\r\n        evt = new CustomEvent(type, {\r\n            detail: data,\r\n            bubbles: bubble,\r\n            cancelable: cancelable\r\n        });\r\n    }\r\n    else {\r\n        evt = document.createEvent('CustomEvent');\r\n        evt.initCustomEvent(type, bubble, cancelable, data);\r\n    }\r\n    return component.dispatchEvent(evt);\r\n}\r\n/**\r\n * Replaces the provided element with a placeholder comment and vice versa.\r\n * Useful for hiding and showing elements while retaining their location in the DOM.\r\n * @param {boolean} isVisible Whether the element is visible or not.\r\n * @param {string} elementName The element tag name.\r\n * @param {string} selector The selector used to find the element\r\n * @param {Node} element The element\r\n * @param {Comment} placeholder The existing placeholder\r\n */\r\nexport function toggleElementPlaceholder(component, isVisible, elementName, selector, element, placeholder) {\r\n    var exists = !!getShadowElement(component, selector);\r\n    if (!placeholder) {\r\n        placeholder = document.createComment(\"(\" + elementName + \") \" + selector);\r\n    }\r\n    if (isVisible && !exists) {\r\n        replaceElement(element, placeholder);\r\n    }\r\n    else if (!isVisible && exists) {\r\n        replaceElement(placeholder, element);\r\n    }\r\n    return placeholder;\r\n}\r\n/**\r\n * Walks up the tree starting a specific node and stops when it finds a shadow root.\r\n * @param {Node} node The node to start searching from.\r\n * @returns {ShadowRoot | null} The closest shadow root ancestor, or null if not inside a shadow root.\r\n */\r\nexport function getClosestShadowRoot(node) {\r\n    return walkUpUntil(node, function (current) { return current.toString() === '[object ShadowRoot]'; });\r\n}\r\n/**\r\n * Finds the closest element up the tree from a starting element across shadow boundaries.\r\n * @param selector The CSS selector for the element to find.\r\n * @param startElement The element to start finding from.\r\n */\r\nexport function closestElement(selector, startElement) {\r\n    function __closestFrom(el) {\r\n        if (!el || el === document || el === window) {\r\n            return null;\r\n        }\r\n        if (el.assignedSlot) {\r\n            el = el.assignedSlot;\r\n        }\r\n        var found = el.closest(selector);\r\n        return found || __closestFrom(el.getRootNode().host);\r\n    }\r\n    return __closestFrom(startElement);\r\n}\r\n// export interface IFocusTrap {\r\n//   activate: () => IFocusTrap;\r\n//   deactivate: (options?: IFocusTrapDeactivateOptions) => IFocusTrap;\r\n//   pause: () => IFocusTrap;\r\n//   unpause: () => IFocusTrap;\r\n// }\r\n// export interface IFocusTrapDeactivateOptions {\r\n//   returnFocus?: boolean;\r\n//   onDeactivate?: () => void;\r\n// }\r\n// export interface IFocusTrapOptions {\r\n//   onActivate?: () => void;\r\n//   onDeactivate?: () => void;\r\n//   initialFocus?: Element | string | (() => void);\r\n//   fallbackFocus?: Element | string | (() => void);\r\n//   escapeDeactivates?: boolean;\r\n//   clickOutsideDeactivates?: boolean;\r\n//   returnFocusOnDeactivate?: boolean;\r\n// }\r\n","import { isFunction } from '../../utils';\r\nimport { polyfillShadowStyles } from '../component-utils';\r\nexport var CUSTOM_ELEMENT_NAME_PROPERTY = '_customElementName';\r\nexport var CUSTOM_ELEMENT_DEPENDENCIES_PROPERTY = '_customElementDependencies';\r\n/**\r\n * This decorator is intended to be used on classes that extend `HTMLElement` to\r\n * extend/modify the behavior of a custom element.\r\n * @param {ICustomElementConfig} [config={}] The custom element configuration.\r\n */\r\nexport function CustomElement(config) {\r\n    return function (ctor) {\r\n        patchConnectedCallback(ctor);\r\n        if (config.name) {\r\n            ctor[CUSTOM_ELEMENT_NAME_PROPERTY] = config.name;\r\n        }\r\n        if (config.dependencies && config.dependencies.length) {\r\n            ctor[CUSTOM_ELEMENT_DEPENDENCIES_PROPERTY] = config.dependencies;\r\n        }\r\n    };\r\n}\r\nfunction patchConnectedCallback(ctor) {\r\n    var originalConnectedCallback = ctor.prototype.connectedCallback;\r\n    ctor.prototype.connectedCallback = function () {\r\n        if (!this.isConnected) {\r\n            return;\r\n        }\r\n        polyfillShadowStyles(this);\r\n        if (!this._isInitialized) {\r\n            this._isInitialized = true;\r\n            if (isFunction(this.initializedCallback)) {\r\n                this.initializedCallback.apply(this);\r\n            }\r\n        }\r\n        if (isFunction(originalConnectedCallback)) {\r\n            originalConnectedCallback.apply(this);\r\n        }\r\n    };\r\n}\r\n","var EventAware = /** @class */ (function () {\r\n    function EventAware() {\r\n        this._listenerMap = new Map();\r\n    }\r\n    EventAware.prototype._emit = function (type, data) {\r\n        var listeners = this._listenerMap.get(type);\r\n        if (listeners && listeners.length) {\r\n            listeners.forEach(function (cb) { return cb({ type: type, data: data }); });\r\n        }\r\n    };\r\n    EventAware.prototype.hasListeners = function (type) {\r\n        return type ? this._listenerMap.has(type) : this._listenerMap.size > 0;\r\n    };\r\n    EventAware.prototype.addListener = function (type, listener) {\r\n        if (!this._listenerMap.has(type)) {\r\n            this._listenerMap.set(type, [listener]);\r\n        }\r\n        else {\r\n            var listeners = this._listenerMap.get(type);\r\n            if (listeners) {\r\n                listeners.push(listener);\r\n            }\r\n        }\r\n    };\r\n    EventAware.prototype.removeListener = function (type, listener) {\r\n        var listeners = this._listenerMap.get(type);\r\n        if (listeners && listeners.length && listeners.includes(listener)) {\r\n            listeners.splice(listeners.indexOf(listener), 1);\r\n            if (!listeners.length) {\r\n                this._listenerMap.delete(type);\r\n            }\r\n        }\r\n    };\r\n    return EventAware;\r\n}());\r\nexport { EventAware };\r\n","export var ScrollDirection;\r\n(function (ScrollDirection) {\r\n    ScrollDirection[\"Up\"] = \"up\";\r\n    ScrollDirection[\"Down\"] = \"down\";\r\n    ScrollDirection[\"Left\"] = \"left\";\r\n    ScrollDirection[\"Right\"] = \"right\";\r\n})(ScrollDirection || (ScrollDirection = {}));\r\nexport var ScrollEvents;\r\n(function (ScrollEvents) {\r\n    ScrollEvents[\"Scroll\"] = \"scroll\";\r\n    ScrollEvents[\"Scrolled\"] = \"scrolled\";\r\n    ScrollEvents[\"ScrolledStart\"] = \"scrolled-start\";\r\n    ScrollEvents[\"ScrolledEnd\"] = \"scrolled-end\";\r\n})(ScrollEvents || (ScrollEvents = {}));\r\n","/**\r\n * Represents a single message list entry containing a string message and its identifier.\r\n */\r\nvar MessageListEntry = /** @class */ (function () {\r\n    function MessageListEntry(message, identifier) {\r\n        this.message = message;\r\n        this.identifier = identifier;\r\n        this.originalMessage = message;\r\n    }\r\n    return MessageListEntry;\r\n}());\r\nexport { MessageListEntry };\r\n","import { MessageListEntry } from './message-list-entry';\r\n/**\r\n * Represents a message list of any type. This class can be used to attach a string message to\r\n * a generic identifier.\r\n */\r\nvar MessageList = /** @class */ (function () {\r\n    function MessageList(useAutoEllipsis) {\r\n        if (useAutoEllipsis === void 0) { useAutoEllipsis = true; }\r\n        this._useAutoEllipsis = true;\r\n        this._useAutoEllipsis = useAutoEllipsis;\r\n        this.reset();\r\n    }\r\n    Object.defineProperty(MessageList.prototype, \"useAutoEllipsis\", {\r\n        /**\r\n         * True if ellipsis management occurs automatically. Default is true.\r\n         */\r\n        get: function () {\r\n            return this._useAutoEllipsis;\r\n        },\r\n        set: function (value) {\r\n            this._useAutoEllipsis = value;\r\n            this._updateMessage();\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Adds a message to the entry map.\r\n     * @param {string} message The message string.\r\n     * @param {T} identifier The message identifier.\r\n     * @returns {MessageList<T>} A reference to `this` for chaining.\r\n     */\r\n    MessageList.prototype.add = function (message, identifier) {\r\n        this._messages.push(new MessageListEntry(message, identifier));\r\n        this._updateMessage();\r\n        return this;\r\n    };\r\n    /**\r\n     * Removes a message using the provided identifier.\r\n     * @param {T} identifier The message identifier.\r\n     * @returns {MessageList<T>} A reference to `this` for chaining.\r\n     */\r\n    MessageList.prototype.remove = function (identifier) {\r\n        var index = this._getMessageIndex(identifier);\r\n        if (index >= 0) {\r\n            this._messages.splice(index, 1);\r\n            this._updateMessage();\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Updates an existing message value.\r\n     * @param {string} message The message string.\r\n     * @param {T} identifier The existing message identifier.\r\n     * @returns {MessageList<T>} A reference to `this` for chaining.\r\n     */\r\n    MessageList.prototype.update = function (message, identifier) {\r\n        var index = this._getMessageIndex(identifier);\r\n        if (index >= 0) {\r\n            this._messages[index].message = message;\r\n            this._updateMessage();\r\n        }\r\n        return this;\r\n    };\r\n    Object.defineProperty(MessageList.prototype, \"messageCount\", {\r\n        /**\r\n         * Gets the number of messages in the list.\r\n         * @returns {number}\r\n         */\r\n        get: function () {\r\n            return this._messages.length;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Resets the message list to it's original state and removes all messages.\r\n     */\r\n    MessageList.prototype.reset = function () {\r\n        this._messages = [];\r\n        this.message = '';\r\n    };\r\n    /**\r\n     * Determines if a message with the provided identifier exists.\r\n     * @param {T} identifier The message identifier.\r\n     */\r\n    MessageList.prototype.hasMessage = function (identifier) {\r\n        return this._getMessageIndex(identifier) >= 0;\r\n    };\r\n    MessageList.prototype._updateMessage = function () {\r\n        var _this = this;\r\n        this.message = '';\r\n        this._messages.forEach(function (item, index) {\r\n            if (_this.useAutoEllipsis) {\r\n                var hasEllipsis = item.message.substr(item.message.length - 3) === '...';\r\n                if (index === _this._messages.length - 1) {\r\n                    if (!hasEllipsis) {\r\n                        item.message += '...';\r\n                    }\r\n                }\r\n                else if (hasEllipsis) {\r\n                    item.message = item.message.substr(0, item.message.length - 3);\r\n                }\r\n            }\r\n            else {\r\n                item.message = item.originalMessage;\r\n            }\r\n            _this.message += item.message + (index < _this._messages.length - 1 ? ', ' : '');\r\n        });\r\n        return this;\r\n    };\r\n    MessageList.prototype._getMessageIndex = function (identifier) {\r\n        var index = -1;\r\n        for (var i = 0; i < this._messages.length; i++) {\r\n            if (this._messages[i].identifier === identifier) {\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n        return index;\r\n    };\r\n    return MessageList;\r\n}());\r\nexport { MessageList };\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import * as tslib_1 from \"tslib\";\r\nimport { EventAware } from '../events/event-aware';\r\nimport { ScrollEvents, ScrollDirection } from './scroll-types';\r\nimport { isDefined, throttle, isNumber } from '../utils';\r\nvar DEFAULT_SCROLL_THROTTLE = 100;\r\n/**\r\n * Provides facilties for observing and reacting to scroll events and information on a given element.\r\n */\r\nvar ScrollAxisObserver = /** @class */ (function (_super) {\r\n    tslib_1.__extends(ScrollAxisObserver, _super);\r\n    function ScrollAxisObserver(_element, _config) {\r\n        if (_config === void 0) { _config = {}; }\r\n        var _this = _super.call(this) || this;\r\n        _this._element = _element;\r\n        _this._config = _config;\r\n        _this._axis = 'vertical';\r\n        _this._scrollThreshold = 0;\r\n        _this._lastScrollPosition = 0;\r\n        _this._lastScrollTop = 0;\r\n        _this._lastScrollLeft = 0;\r\n        _this._isListening = false;\r\n        _this._initialize();\r\n        return _this;\r\n    }\r\n    ScrollAxisObserver.prototype.destroy = function () {\r\n        this.stop();\r\n    };\r\n    ScrollAxisObserver.prototype.start = function () {\r\n        if (!this._isListening) {\r\n            this._element.addEventListener('scroll', this._scrollListener);\r\n            this._isListening = true;\r\n        }\r\n    };\r\n    ScrollAxisObserver.prototype.stop = function () {\r\n        this._element.removeEventListener('scroll', this._scrollListener);\r\n        this._isListening = false;\r\n    };\r\n    ScrollAxisObserver.prototype._initialize = function () {\r\n        var _this = this;\r\n        if (this._config.throttle) {\r\n            var wait = this._config.throttleTime || DEFAULT_SCROLL_THROTTLE;\r\n            this._scrollListener = throttle(function () { return _this._onScroll(); }, wait);\r\n        }\r\n        else {\r\n            this._scrollListener = function () { return _this._onScroll(); };\r\n        }\r\n        if (!isDefined(this._config.paused) || !this._config.paused) {\r\n            this.start();\r\n        }\r\n        if (isDefined(this._config.axis)) {\r\n            this._axis = this._config.axis;\r\n        }\r\n        if (isDefined(this._config.scrollThreshold) && isNumber(this._config.scrollThreshold)) {\r\n            this._scrollThreshold = this._config.scrollThreshold;\r\n        }\r\n    };\r\n    ScrollAxisObserver.prototype._isScrollAxis = function () {\r\n        var isVertical = this._lastScrollTop !== this._element.scrollTop;\r\n        var isHorizontal = this._lastScrollLeft !== this._element.scrollLeft;\r\n        return (this._axis === 'vertical' && isVertical) || (this._axis === 'horizontal' && isHorizontal);\r\n    };\r\n    ScrollAxisObserver.prototype._onScroll = function () {\r\n        if (!this._isScrollAxis()) {\r\n            return;\r\n        }\r\n        var position = this.scrollPosition;\r\n        var direction = this._lastScrollPosition - position < 0 ? (this._axis === 'vertical' ? ScrollDirection.Down : ScrollDirection.Right) : (this._axis === 'vertical' ? ScrollDirection.Up : ScrollDirection.Left);\r\n        this._emit(ScrollEvents.Scroll, { direction: direction, position: position });\r\n        if (this._lastScrollPosition <= this._scrollThreshold && position > this._scrollThreshold) {\r\n            this._emit(ScrollEvents.Scrolled, true);\r\n        }\r\n        else if (this._lastScrollPosition >= this._scrollThreshold && (this._scrollThreshold > 0 ? position < this._scrollThreshold : position === 0)) {\r\n            this._emit(ScrollEvents.Scrolled, false);\r\n        }\r\n        var scrollStart = Math.round(position - this._scrollThreshold);\r\n        var scrollEnd = Math.round(this.scrollSize - position);\r\n        if (this._lastScrollPosition >= this._scrollThreshold && scrollStart <= 0) {\r\n            this._emit(ScrollEvents.ScrolledStart);\r\n        }\r\n        else if (this._lastScrollPosition <= (this.scrollSize - this._scrollThreshold) && scrollEnd <= this._scrollThreshold) {\r\n            this._emit(ScrollEvents.ScrolledEnd);\r\n        }\r\n        this._lastScrollPosition = position || 0;\r\n        this._lastScrollTop = this._element.scrollTop || 0;\r\n        this._lastScrollLeft = this._element.scrollLeft || 0;\r\n    };\r\n    Object.defineProperty(ScrollAxisObserver.prototype, \"scrollPosition\", {\r\n        get: function () {\r\n            return this._axis === 'vertical' ? this._element.scrollTop : this._element.scrollLeft;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ScrollAxisObserver.prototype, \"isScrolled\", {\r\n        get: function () {\r\n            return this.scrollPosition > this._scrollThreshold;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ScrollAxisObserver.prototype, \"isScrolledStart\", {\r\n        get: function () {\r\n            return this.scrollPosition === 0;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ScrollAxisObserver.prototype, \"isScrolledEnd\", {\r\n        get: function () {\r\n            return this.scrollPosition === this._element.scrollWidth;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ScrollAxisObserver.prototype, \"isScrollable\", {\r\n        get: function () {\r\n            if (this._axis === 'vertical') {\r\n                return this._element.scrollHeight > this._element.clientHeight;\r\n            }\r\n            return this._element.scrollWidth > this._element.clientWidth;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ScrollAxisObserver.prototype, \"scrollSize\", {\r\n        get: function () {\r\n            return (this._axis === 'vertical' ? this._element.scrollHeight : this._element.scrollWidth) - this.elementSize;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ScrollAxisObserver.prototype, \"elementSize\", {\r\n        get: function () {\r\n            return this._axis === 'vertical' ? this._element.clientHeight : this._element.clientWidth;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    ScrollAxisObserver.prototype.setScrollPosition = function (position) {\r\n        if (this._axis === 'vertical') {\r\n            this._element.scrollTop = position;\r\n        }\r\n        else {\r\n            this._element.scrollLeft = position;\r\n        }\r\n    };\r\n    return ScrollAxisObserver;\r\n}(EventAware));\r\nexport { ScrollAxisObserver };\r\n","export var ServiceRequestMethod;\r\n(function (ServiceRequestMethod) {\r\n    ServiceRequestMethod[\"GET\"] = \"GET\";\r\n    ServiceRequestMethod[\"POST\"] = \"POST\";\r\n    ServiceRequestMethod[\"PUT\"] = \"PUT\";\r\n    ServiceRequestMethod[\"DELETE\"] = \"DELETE\";\r\n    ServiceRequestMethod[\"PATCH\"] = \"PATCH\";\r\n    ServiceRequestMethod[\"HEAD\"] = \"HEAD\";\r\n    ServiceRequestMethod[\"CONNECT\"] = \"CONNECT\";\r\n    ServiceRequestMethod[\"OPTIONS\"] = \"OPTIONS\";\r\n    ServiceRequestMethod[\"TRACE\"] = \"TRACE\";\r\n})(ServiceRequestMethod || (ServiceRequestMethod = {}));\r\n","/** Copy the text value to the clipboard. */\r\nexport function copyToClipboard(text) {\r\n    var textarea = _createTextareaAndSelect(text);\r\n    var copySuccessful = document.execCommand('copy');\r\n    if (textarea) {\r\n        document.body.removeChild(textarea);\r\n        textarea = null;\r\n    }\r\n    return copySuccessful;\r\n}\r\n/**\r\n * Creates a hidden textarea element, sets its value from `text` property,\r\n * and makes a selection on it.\r\n */\r\nfunction _createTextareaAndSelect(text) {\r\n    var textarea = document.createElement('textarea');\r\n    textarea.style.fontSize = '12pt';\r\n    textarea.style.border = '0';\r\n    textarea.style.clip = 'rect(0 0 0 0)';\r\n    textarea.style.height = '1px';\r\n    textarea.style.margin = '-1px';\r\n    textarea.style.overflow = 'hidden';\r\n    textarea.style.padding = '0';\r\n    textarea.style.position = 'absolute';\r\n    textarea.style.width = '1px';\r\n    textarea.style.outline = '0';\r\n    textarea.style.setProperty('-webkit-appearance', 'none');\r\n    textarea.style.setProperty('-moz-appearance', 'none');\r\n    var yPosition = window.pageYOffset || document.documentElement.scrollTop;\r\n    textarea.style.top = yPosition + 'px';\r\n    textarea.setAttribute('readonly', '');\r\n    textarea.value = text;\r\n    document.body.appendChild(textarea);\r\n    textarea.select();\r\n    textarea.setSelectionRange(0, textarea.value.length);\r\n    return textarea;\r\n}\r\n","/**\r\n * Gets the node path from where the event originated from.\r\n * @param evt The event.\r\n */\r\nexport function getEventPath(evt) {\r\n    return evt.path || (evt.composedPath && evt.composedPath()) || composedPath(evt.target);\r\n}\r\n/**\r\n * Equivalent to path/composedPath.\r\n * Note: Slots and shadow roots are detected, but aren't needed as they are virtually invisible anyway...\r\n */\r\nexport function composedPath(el) {\r\n    var path = [];\r\n    while (el) {\r\n        if (el.shadowRoot) {\r\n            if (el.shadowRoot.activeElement) {\r\n                path.push(el.shadowRoot.activeElement);\r\n            }\r\n            path.push(el.shadowRoot);\r\n        }\r\n        path.push(el);\r\n        if (el.tagName === 'HTML') {\r\n            path.push(document);\r\n            path.push(window);\r\n            break;\r\n        }\r\n        el = el.parentElement;\r\n    }\r\n    return path;\r\n}\r\n","/**\r\n * Converts a JavaScript object to a URI encoded query string.\r\n * @param {any} obj The parameters for the query string.\r\n */\r\nexport function createQueryString(obj) {\r\n    if (!obj || obj.length === 0) {\r\n        return null;\r\n    }\r\n    var params = [];\r\n    for (var property in obj) {\r\n        if (!obj.hasOwnProperty(property)) {\r\n            continue;\r\n        }\r\n        if (obj[property] instanceof Array) {\r\n            for (var index in obj[property]) {\r\n                if (obj[property].hasOwnProperty(index)) {\r\n                    params.push(encodeURIComponent(property) + '=' + (obj[property][index] !== null && typeof obj[property][index] !== 'undefined' ? encodeURIComponent(obj[property][index]) : ''));\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            params.push(encodeURIComponent(property) + '=' + (obj[property] !== null && typeof obj[property] !== 'undefined' ? encodeURIComponent(obj[property]) : ''));\r\n        }\r\n    }\r\n    return '?' + params.join('&');\r\n}\r\n","/**\r\n * This method will find a value in a JavaScript object using a string path.\r\n * Example:\r\n *   var obj = { one: 1, two: { twoOne: 21, twoTwo: 22, twoThree: [{ threeOne: 31 }] } };\r\n *   getPropertyValue(obj, 'two.twoOne'); // 21\r\n *   getPropertyValue(obj, 'one'); // 1\r\n *   getPropertyValue(obj, 'two.twoThree[0].threeOne'); // 31\r\n *\r\n * Inspired by \"Alnitak\"'s answer on stack overflow:\r\n * http://stackoverflow.com/questions/6491463/accessing-nested-javascript-objects-with-string-key\r\n */\r\nexport function getPropertyValue(obj, inPath) {\r\n    var path = inPath.replace(/\\[(\\w+)\\]/g, '.$1'); // Convert indexes to properties\r\n    path = path.replace(/^\\./, ''); // Strip a leading dot\r\n    var ary = path.split('.');\r\n    // tslint:disable-next-line:prefer-for-of\r\n    for (var i = 0; i < ary.length; ++i) {\r\n        var property = ary[i];\r\n        if (obj && typeof obj === 'object' && property in obj) {\r\n            obj = obj[property];\r\n        }\r\n        else {\r\n            obj = '';\r\n            break;\r\n        }\r\n    }\r\n    return obj;\r\n}\r\n/**\r\n * A wrapper around Array.prototype.find to allow for passing in a predicate.\r\n * @param {any[]} ary The array to search.\r\n * @param {any} predicate The predicate.\r\n */\r\nexport function findWhere(ary, predicate) {\r\n    return ary.find(function (item) { return matchesPredicate(item, predicate); });\r\n}\r\n/**\r\n * A wrapper around Array.prototype.findIndex to allow for passing in a predicate.\r\n * @param {any[]} ary The array to search.\r\n * @param {any} predicate The predicate.\r\n */\r\nexport function findIndexWhere(ary, predicate) {\r\n    return ary.findIndex(function (item) { return matchesPredicate(item, predicate); });\r\n}\r\n/**\r\n * This function will create a predicate in the form of \"{ [property name]: [value] }\" where the square brackets are\r\n * replaced with the actual property name and value for the data.\r\n */\r\nexport function createPredicate(key, data) {\r\n    if (!key || !key.length) {\r\n        throw new Error('Invalid key');\r\n    }\r\n    var predicate = {};\r\n    for (var _i = 0, key_1 = key; _i < key_1.length; _i++) {\r\n        var propertyName = key_1[_i];\r\n        if (Object.prototype.hasOwnProperty.call(data, propertyName)) {\r\n            predicate[propertyName] = data[propertyName];\r\n        }\r\n        else {\r\n            throw new Error(\"Invalid key. The property \\\"\" + propertyName + \"\\\" does not exist in the data.\");\r\n        }\r\n    }\r\n    return predicate;\r\n}\r\n/**\r\n * Determines if an object matches a predicate.\r\n */\r\nexport function matchesPredicate(obj, predicate) {\r\n    return Object.keys(predicate).every(function (key) { return obj[key] === predicate[key]; });\r\n}\r\n/**\r\n * Decorates an object by overriding its property descriptor to add a listener invocation in its dynamically created setter.\r\n * Note: This does retain existing functionality, and will only work with configurable properties.\r\n * @param context The `this` context to use for the listener.\r\n * @param obj The object to decorate.\r\n * @param prop The property to override.\r\n * @param listener The listener function that will be executed when the property values changes.\r\n * @returns A function that can be invoked to return the property to its original property descriptor.\r\n */\r\nexport function listenOwnProperty(context, obj, prop, listener) {\r\n    var originalValueDescriptor = Object.getOwnPropertyDescriptor(Object.getPrototypeOf(obj), prop);\r\n    if (!originalValueDescriptor) {\r\n        throw new Error(\"Property \" + prop + \" does not exist.\");\r\n    }\r\n    Object.defineProperty(obj, prop, {\r\n        get: function () {\r\n            return originalValueDescriptor.get ? originalValueDescriptor.get.apply(this, arguments) : undefined;\r\n        },\r\n        set: function () {\r\n            if (originalValueDescriptor.set) {\r\n                originalValueDescriptor.set.apply(this, arguments);\r\n            }\r\n            listener.apply(context, arguments);\r\n        }\r\n    });\r\n    return function () { return Object.defineProperty(obj, prop, originalValueDescriptor); };\r\n}\r\n","import { findWhere, createPredicate } from './object-utils';\r\nvar ItemManager = /** @class */ (function () {\r\n    function ItemManager(_key) {\r\n        this._key = _key;\r\n        this._items = [];\r\n    }\r\n    /**\r\n     * Returns all items.\r\n     */\r\n    ItemManager.prototype.getItems = function () {\r\n        return this._items.slice();\r\n    };\r\n    /**\r\n     * Returns the number of items.\r\n     */\r\n    ItemManager.prototype.count = function () {\r\n        return this._items.length;\r\n    };\r\n    /**\r\n     * Sets the item key.\r\n     * @param key The item key(s).\r\n     */\r\n    ItemManager.prototype.setKey = function (key) {\r\n        this._key = key;\r\n    };\r\n    /**\r\n     * Addes the provided items.\r\n     * @param data The item data.\r\n     */\r\n    ItemManager.prototype.add = function (data) {\r\n        var _this = this;\r\n        if (!(data instanceof Array)) {\r\n            data = [data];\r\n        }\r\n        data.forEach(function (item) {\r\n            if (!_this.exists(item)) {\r\n                _this._items.push(item);\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    /**\r\n     * Removes an item from the selections.\r\n     * @param data The data to be deselected.\r\n     */\r\n    ItemManager.prototype.remove = function (data) {\r\n        if (!(data instanceof Array)) {\r\n            data = [data];\r\n        }\r\n        for (var i = data.length - 1; i >= 0; i--) {\r\n            if (this.exists(data[i])) {\r\n                this._items.splice(this._items.indexOf(this._getItem(data[i])), 1);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Removes all selected items.\r\n     */\r\n    ItemManager.prototype.clear = function () {\r\n        this._items = [];\r\n        return this;\r\n    };\r\n    /**\r\n     * Determines if the provided item exists in the selections or not.\r\n     * @param data The data value.\r\n     */\r\n    ItemManager.prototype.exists = function (data) {\r\n        return this._getItem(data) !== null;\r\n    };\r\n    /**\r\n     * Gets the item from the items collection, or null if not found.\r\n     * @param data The data value.\r\n     */\r\n    ItemManager.prototype._getItem = function (data) {\r\n        if (this._key) {\r\n            return findWhere(this._items, createPredicate(this._key, data)) || null;\r\n        }\r\n        else {\r\n            return this._items.find(function (item) { return item === data; }) || null;\r\n        }\r\n    };\r\n    return ItemManager;\r\n}());\r\nexport { ItemManager };\r\n","/**\r\n * @license\r\n * Copyright Google LLC All Rights Reserved.\r\n *\r\n * Use of this source code is governed by an MIT-style license that can be\r\n * found in the LICENSE file at https://angular.io/license\r\n */\r\n// Whether the current platform supports the V8 Break Iterator. The V8 check\r\n// is necessary to detect all Blink based browsers.\r\nvar hasV8BreakIterator = (typeof (Intl) !== 'undefined' && Intl.v8BreakIterator);\r\n/**\r\n * Class used to detect the current platform by comparing the userAgent strings and\r\n * checking browser-specific global properties.\r\n * @docs-private\r\n */\r\nvar Platform = /** @class */ (function () {\r\n    function Platform() {\r\n    }\r\n    Object.defineProperty(Platform, \"isBrowser\", {\r\n        get: function () {\r\n            return typeof document === 'object' && !!document;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Platform, \"isMobile\", {\r\n        get: function () {\r\n            return Platform.isBrowser && /Mobi/.test(navigator.userAgent);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Platform, \"EDGE\", {\r\n        /** Layout Engines */\r\n        get: function () {\r\n            return Platform.isBrowser && /(edge)/i.test(navigator.userAgent);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Platform, \"TRIDENT\", {\r\n        get: function () {\r\n            return Platform.isBrowser && /(msie|trident)/i.test(navigator.userAgent);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Platform, \"BLINK\", {\r\n        // EdgeHTML and Trident mock Blink specific things and need to be excluded from this check.\r\n        get: function () {\r\n            return Platform.isBrowser && (!!(window.chrome || hasV8BreakIterator) && !!CSS && !Platform.EDGE && !Platform.TRIDENT);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Platform, \"WEBKIT\", {\r\n        // Webkit is part of the userAgent in EdgeHTML, Blink and Trident. Therefore we need to\r\n        // ensure that Webkit runs standalone and is not used as another engine's base.\r\n        get: function () {\r\n            return Platform.isBrowser && /AppleWebKit/i.test(navigator.userAgent) && !Platform.BLINK && !Platform.EDGE && !Platform.TRIDENT;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Platform, \"IOS\", {\r\n        /** Browsers and Platform Types */\r\n        get: function () {\r\n            return Platform.isBrowser && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Platform, \"FIREFOX\", {\r\n        // It's difficult to detect the plain Gecko engine, because most of the browsers identify\r\n        // them self as Gecko-like browsers and modify the userAgent's according to that.\r\n        // Since we only cover one explicit Firefox case, we can simply check for Firefox\r\n        // instead of having an unstable check for Gecko.\r\n        get: function () {\r\n            return Platform.isBrowser && /(firefox|minefield)/i.test(navigator.userAgent);\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Platform, \"ANDROID\", {\r\n        // Trident on mobile adds the android platform to the userAgent to trick detections.\r\n        get: function () {\r\n            return Platform.isBrowser && /android/i.test(navigator.userAgent) && !Platform.TRIDENT;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    // Safari browsers will include the Safari keyword in their userAgent. Some browsers may fake\r\n    // this and just place the Safari keyword in the userAgent. To be more safe about Safari every\r\n    // Safari browser should also use Webkit as its layout engine.\r\n    Platform.prototype.SAFARI = function () {\r\n        return Platform.isBrowser && /safari/i.test(navigator.userAgent) && Platform.WEBKIT;\r\n    };\r\n    return Platform;\r\n}());\r\nexport { Platform };\r\n","import { isDefined, isString } from './utils';\r\n/**\r\n * Converts a string value to dash-case.\r\n * Ex. someTestValue => some-test-value\r\n * @param {string} value The string to convert\r\n */\r\nexport function dashify(value) {\r\n    if (!isDefined(value) || !isString(value)) {\r\n        return value;\r\n    }\r\n    return value.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\r\n}\r\n/**\r\n * Left pads a string to the specified length with the specified character.\r\n * @param {string} value The string to pad.\r\n * @param {number} length The minimum total length.\r\n * @param {string} char The character to pad with, space will be used if not specified.\r\n */\r\nexport function padLeft(value, length, char) {\r\n    if (!length || !isDefined(value) || !isString(value)) {\r\n        return value;\r\n    }\r\n    return new Array(length - value.length + 1).join(char || ' ') + value;\r\n}\r\n/**\r\n * Right pads a string to the specified length with the specified character.\r\n * @param {string} value The string to pad.\r\n * @param {number} length The minimum total length.\r\n * @param {string} char The character to pad with, space will be used if not specified.\r\n */\r\nexport function padRight(value, length, char) {\r\n    if (!length || !isDefined(value) || !isString(value)) {\r\n        return value;\r\n    }\r\n    return value + new Array(length - value.length + 1).join(char || ' ');\r\n}\r\n","export * from './a11y';\r\nexport * from './constants';\r\nexport * from './custom-elements';\r\nexport * from './events';\r\nexport * from './message-list';\r\nexport * from './scroll';\r\nexport * from './services';\r\nexport * from './utils';\r\n"],"sourceRoot":""}